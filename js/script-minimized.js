var linkFeedback=document.querySelector(".feedback-button"),popupFeedback=document.querySelector(".feedback"),formFeedback=popupFeedback.querySelector("form"),nameFeedback=popupFeedback.querySelector("[name=name]"),emailFeedback=popupFeedback.querySelector("[name=email]"),textFeedback=popupFeedback.querySelector("[type=textarea]"),closeFeedback=popupFeedback.querySelector(".modal-close"),linkMap=document.querySelector(".map-link"),popupMap=document.querySelector(".map"),closeMap=popupMap.querySelector(".modal-close"),linkItemAdded=document.querySelector(".tocart"),popupItemAdded=document.querySelector(".item-added"),closeItemAdded=popupItemAdded.querySelector(".modal-close"),closeButton=popupItemAdded.querySelector(".button-close"),isStorageSupport=!0,storage="";try{storage=localStorage.getItem("name")}catch(e){isStorageSupport=!1}linkFeedback.addEventListener("click",function(e){e.preventDefault(),popupFeedback.classList.add("modal-show"),storage?(nameFeedback.value=storage,emailFeedback.focus()):nameFeedback.focus()}),closeFeedback.addEventListener("click",function(e){e.preventDefault(),popupFeedback.classList.remove("modal-show"),popupFeedback.classList.remove("modal-error")}),formFeedback.addEventListener("submit",function(e){nameFeedback.value&&emailFeedback.value&&textFeedback?isStorageSupport&&localStorage.setItem("name",nameFeedback.value):(e.preventDefault(),popupFeedback.classList.remove("modal-error"),popupFeedback.offsetWidth=popupFeedback.offsetWidth,popupFeedback.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),popupFeedback.classList.contains("modal-show")&&(popupFeedback.classList.remove("modal-show"),popupFeedback.classList.remove("modal-error")))}),linkMap.addEventListener("click",function(e){e.preventDefault(),popupMap.classList.add("modal-show")}),closeMap.addEventListener("click",function(e){e.preventDefault(),popupMap.classList.remove("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),popupMap.classList.contains("modal-show")&&popupMap.classList.remove("modal-show"))}),linkItemAdded.addEventListener("click",function(e){e.preventDefault(),popupItemAdded.classList.add("modal-show")}),closeItemAdded.addEventListener("click",function(e){e.preventDefault(),popupItemAdded.classList.remove("modal-show")}),closeButton.addEventListener("click",function(e){e.preventDefault(),popupItemAdded.classList.remove("modal-show")});
